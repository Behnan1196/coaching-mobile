// This file is used by EAS Build to configure Android build

apply plugin: "com.android.application"

android {
    packagingOptions {
        // Enable 16KB page size support
        jniLibs {
            useLegacyPackaging = false
        }
    }

    defaultConfig {
        // NDK configuration for 16KB page size
        ndk {
            abiFilters "armeabi-v7a", "arm64-v8a", "x86", "x86_64"
        }
        
        // Add linker flags for 16KB page size
        externalNativeBuild {
            cmake {
                arguments "-DANDROID_SUPPORT_FLEXIBLE_PAGE_SIZES=ON"
                cppFlags "-Wl,-z,max-page-size=16384"
            }
        }
    }
}
